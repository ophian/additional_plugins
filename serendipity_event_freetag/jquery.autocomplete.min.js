/*! autocomplete 2014-02-16 v.2.0.0 https://github.com/onigoetz/jquery.autocomplete */
/* 07/2023 - fix size() is not a function issue, while deprecated in JQuery version: 1.8 and removed in: 3.0. Replaced by .length property. */
/* 08/2025 - fix jQuery.isArray() is not a function issue, while deprecated in JQuery version: 3.0 and removed in: 4.0. Replaced by Array.isArray(). */
!function(a){"use strict";var b={data_key:"ac-data",key:"autocomplete",defaults:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null,scroll:!0,scrollHeight:180}};a.Autocompleter=function(d,e){function f(){var c,d,e,f=P[0].nodeName.toLowerCase(),j="textarea"===f,k="input"===f;A=j?!0:k?!1:P.prop("isContentEditable"),B=P[j||k?"val":"text"],P.addClass(I).attr("autocomplete","off"),g(P,{keydown:function(a){if(P.prop("readOnly"))return c=!0,e=!0,void(d=!0);switch(c=!1,e=!1,d=!1,a.keyCode){case H.PGUP:c=!0,r("previousPage",a);break;case H.PGDN:c=!0,r("nextPage",a);break;case H.UP:c=!0,t("previous",a);break;case H.DOWN:c=!0,t("next",a);break;case H.ENTER:Q.active&&(c=!0,a.preventDefault(),Q.select(a));break;case H.TAB:Q.active&&Q.select(a);break;case H.ESCAPE:Q.visible()&&(s(D),n(a),a.preventDefault());break;default:d=!0,i(a)}},keypress:function(a){if(c)return c=!1,void((!A||Q.visible())&&a.preventDefault());if(!d)switch(a.keyCode){case H.PGUP:r("previousPage",a);break;case H.PGDN:r("nextPage",a);break;case H.UP:t("previous",a);break;case H.DOWN:t("next",a)}},input:function(a){return e?(e=!1,void a.preventDefault()):void i(a)},focus:function(){y=null,z=s()},blur:function(a){return x?void(x=!1):(clearTimeout(C),n(a),void p(a))}}),h(),Q.element.on({mousedown:function(b){b.preventDefault(),x=!0,setTimeout(function(){x=!1},0);var c=Q.element[0];a(b.target).closest(".ac-item").length||setTimeout(function(){a(document).one("mousedown",function(b){b.target===P[0]||b.target===c||a.contains(c,b.target)||n()})},0)},menufocus:function(a,c){var d;d=c.item.data(b.data_key),!1!==u("focus",a,{item:d})&&a.originalEvent&&/^key/.test(a.originalEvent.type)&&s(d.value)},menuselect:function(a,c){var d=c.item.data(b.data_key),e=z;P[0]!=document.activeElement&&(P.focus(),z=e,setTimeout(function(){z=e,y=d},0)),!1!==u("select",a,{item:d})&&s(d.value),D=s(),n(a),y=d}}),a(window).on("beforeunload",function(){P.removeAttr("autocomplete")})}function g(a,b){for(var c in b)b.hasOwnProperty(c)&&a.on(c+O,b[c])}function h(){var b,c;Array.isArray(e.source)?(b=e.source,E=function(c,d){d(a.ui.autocomplete.filter(b,c.term))}):"string"==typeof e.source?(c=e.source,E=function(b,d){F&&F.abort(),F=a.ajax({url:c,data:b,dataType:"json",success:function(a){d(a)},error:function(){d([])}})}):E=e.source}function i(a){clearTimeout(C),C=setTimeout(function(){D!==s()&&(y=null,j(null,a))},e.delay)}function j(a,b){return a=null!==a?a:s(),D=s(),a.length<e.minLength?n(b):u("search",b)!==!1?k(a):void 0}function k(a){N++,P.addClass(K),G=!1,E({term:a},l())}function l(){var a=++M;return function(b){a===M&&m(b),N--,N||P.removeClass(K)}}function m(a){a&&(a=q(a)),u("response",null,{content:a}),!e.disabled&&a&&a.length&&!G?(Q.suggest(a),u("open")):o()}function n(a){G=!0,o(a)}function o(a){Q.visible()&&(Q.hide(),u("close",a))}function p(a){z!==s()&&u("change",a,{item:y})}function q(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return"string"==typeof b?{label:b,value:b}:a.extend({},b,{label:b.label||b.value,value:b.value||b.label})})}function r(a,b){return Q.visible()?void Q[a](b):void j(null,b)}function s(){return B.apply(P,arguments)}function t(a,b){(!A||Q.visible())&&(r(a,b),b.preventDefault())}function u(b,c,f){var g,h,i=e[b];if(f=f||{},c=a.Event(c),c.type=b,c.target=d,h=c.originalEvent)for(g in h)!c.hasOwnProperty(g)||g in c||(c[g]=h[g]);return P.trigger(c,f),!(a.isFunction(i)&&i.apply(d,[c].concat(f))===!1||c.isDefaultPrevented())}function v(a){var b;for(b in a)w(b,a[b]);return L}function w(a,b){return e[a]=b,"source"===a&&h(),"appendTo"===a&&Q.reappend(),"disabled"===a&&(b&&F&&F.abort(),P.toggleClass(J,!!b)),L}if(!a(d).data(b.key)){var x,y,z,A,B,C,D,E,F,G,H={UP:38,DOWN:40,DEL:46,TAB:9,ENTER:13,ESCAPE:27,PGUP:33,PGDN:34,BACKSPACE:8},I="ac-input",J="ac-disabled",K="ac-loading",L=this,M=0,N=0,O=".autocomplete",P=a(d).data(b.key,this),Q=c(e,d);f(),this.search=j,this.close=n,this.option=function(b){return 0===arguments.length?a.extend(!0,{},e):1===arguments.length?void 0===e[b]?null:e[b]:(v(b),this)},this.enable=function(){return w("disabled",!1)},this.disable=function(){return w("disabled",!0)},this.widget=function(){return P},this.destroy=function(){clearTimeout(C),P.data("autocomplete",null).removeClass(I).removeAttr("autocomplete").off(O),Q.destroy()}}},a.ui=a.ui||{},a.ui.autocomplete=a.ui.autocomplete||{},a.ui.autocomplete.filter=function(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return d.test(a.label||a.value||a)})},a.ui.autocomplete.escapeRegex=function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")};var c=function(c,d){function e(){var b=c.appendTo;return b&&(b=b.jquery||b.nodeType?a(b):a(document).find(b).eq(0)),b&&b.length||(b=document.body),b}function f(){a(this).is(":visible")&&d.focus()}function g(b){return a(b.target).addClass(q),s.trigger("menuselect",{item:a(b.target)}),!1}function h(b){var c=b.target;c.nodeName&&"LI"==c.nodeName.toUpperCase()&&(k(a(b.target)),r=a("li",t).index(c))}function i(a,b){if(j(a,b),m()){var c=0;n.slice(0,r).each(function(){c+=this.offsetHeight}),c+o.active[0].offsetHeight-t.scrollTop()>t[0].clientHeight?t.scrollTop(c+o.active[0].offsetHeight-t.innerHeight()):c<t.scrollTop()&&t.scrollTop(c)}}function j(b,c){0>b&&0===r||b>0&&r==n.length-1||(r+=b,0>r?r=n.length-1:r>=n.length&&(r=0)),k(a(n.get(r)),c)}function k(b,c){return o.active&&o.active.removeClass(p),o.active=b.addClass(p),c=a.Event(c),c.type="menufocus",s.trigger(c,{item:o.active}),o.active}function l(b){return a.proxy(o[b],o)}function m(){if(c.scroll)return!0;var a=c.scrollHeight||t[0].innerHeight();return t[0].scrollHeight>a}var n,o,p="ac-over",q="ac-results",r=-1,s=a("<div>").hide().addClass(q).appendTo(e()).hover(f),t=a("<ul>").appendTo(s).bind("mouseover","li",h).bind("click","li",g);return o={element:s,show:function(){var b=a(d).offset();s.css({width:a(d).outerWidth(),top:b.top+d.offsetHeight,left:b.left}).show(),m()&&t.css({maxHeight:c.scrollHeight,overflow:"auto"}).scrollTop(0)},hide:function(){s&&s.hide(),n&&n.removeClass(q),r=-1},visible:function(){return s&&s.is(":visible")},suggest:function(b){t.empty(),l("_renderMenu")(t,b),n=t.find("li"),o.show(),l("_resizeMenu"),s.position(a.extend({of:a(d)},c.position)),c.autoFocus&&i(1)},next:function(a){i(1,a)},previous:function(a){i(-1,a)},nextPage:function(a){r!=n.length-1&&r+8>n.length?i(n.length-1-r,a):i(8,a)},previousPage:function(a){0!==r&&0>r-8?i(-r,a):i(-8,a)},select:function(){a(s).trigger("menuselect",{item:o.active})},reappend:function(){s.appendTo(e())},destroy:function(){s&&s.remove()},_renderItemData:function(a,c){return l("_renderItem")(a,c).data(b.data_key,c)},_renderMenu:c._renderMenu||function(b,c){var d=this;a.each(c,function(a,c){d._renderItemData(b,c)})},_renderItem:c._renderItem||function(b,c){return a("<li>").addClass("ac-item").text(c.label).appendTo(b)},_resizeMenu:c._resizeMenu||function(){s.outerWidth(Math.max(s.width("").outerWidth()+1,a(d).outerWidth()))}}};a.fn.autocomplete=function(c){if("string"==typeof c){var d=this,e=Array.prototype.slice.call(arguments,1);return this.each(function(){var f=a.data(this,b.key);if("object"==typeof f&&a.isFunction(f[c])){var g=f[c].apply(f,e);if(g!==f&&void 0!==g)return d=g&&g.jquery?d.pushStack(g.get()):g,!1}}),d}return c=a.extend({},b.defaults,c),this.each(function(){new a.Autocompleter(this,c)})}}(jQuery);